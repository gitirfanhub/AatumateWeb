{"version":3,"file":"static/js/437.257d538e.chunk.js","mappings":"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","sources":["pages/MerchantDetails/MerchantDetailStyles.js","components/MerchantCard.js","pages/MerchantDetails/index.js","pages/MerchantDetails/MerchantDetails.js"],"sourcesContent":["import styled from \"styled-components\";\r\n\r\nconst MerchantDetailStyleWrapper = styled.section`\r\n  min-height: 75vh;\r\n  .no-merchant {\r\n    text-align: center;\r\n    padding: 3rem;\r\n    font: ${({ theme }) => theme.fontAppearance.contentMedium};\r\n  }\r\n  .animation {\r\n    padding-top: 3rem;\r\n  }\r\n  .merchant-container {\r\n    display: grid;\r\n    grid-template-columns: repeat(3, 1fr);\r\n    gap: 1rem;\r\n    padding: 2rem 3rem;\r\n  }\r\n  .product {\r\n    padding-left: 3rem;\r\n    .product-name {\r\n      font: ${({ theme }) => theme.fontAppearance.defaultMedium};\r\n      color: ${({ theme }) => theme.colors.tertiary};\r\n      span {\r\n        padding: 0.3rem 1rem;\r\n        background-color: ${({ theme }) => theme.colors.primary};\r\n        font: ${({ theme }) => theme.fontAppearance.contentMedium};\r\n        color: ${({ theme }) => theme.colors.secondary};\r\n        border-radius: 20px;\r\n        vertical-align: middle;\r\n        margin-left: 0.5rem;\r\n      }\r\n    }\r\n  }\r\n  @media only screen and (max-width: 768px) {\r\n    .merchant-container {\r\n      grid-template-columns: repeat(1, 1fr);\r\n    }\r\n  }\r\n  @media only screen and (max-width: 1268px) {\r\n    .merchant-container {\r\n      grid-template-columns: repeat(3, 1fr);\r\n    }\r\n  }\r\n  @media only screen and (min-width: 1660px) {\r\n    .merchant-container {\r\n      grid-template-columns: repeat(4, 1fr);\r\n    }\r\n  }\r\n`;\r\n\r\nexport default MerchantDetailStyleWrapper;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { baseUrl } from \"../utils/constants\";\r\nimport { BsStarFill } from \"react-icons/bs\";\r\nimport { FaRoad } from \"react-icons/fa\";\r\nimport { MdLocationOn } from \"react-icons/md\";\r\nimport { Link } from \"react-router-dom\";\r\nimport defaultImage from \"../images/Aatumate_Icon_Grey.svg\";\r\n\r\nconst MerchantCardStyles = styled.section`\r\n  a {\r\n    text-decoration: none;\r\n    color: ${({ theme }) => theme.colors.primary};\r\n  }\r\n  .merchant-card {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: flex-start;\r\n    column-gap: 1rem;\r\n    max-width: 400px;\r\n    border-radius: 1rem;\r\n    box-shadow: 0 7px 15px 0 rgba(0, 0, 0, 0.13),\r\n      0 1px 4px 0 rgba(0, 0, 0, 0.11);\r\n\r\n    .merchant-images {\r\n      max-width: 150px;\r\n      height: 150px;\r\n      img {\r\n        max-width: 150px;\r\n        height: 100%;\r\n        object-fit: cover;\r\n        vertical-align: middle;\r\n        border-radius: 15px;\r\n      }\r\n    }\r\n    .merchant-details {\r\n      padding: 5px;\r\n      .merchant-name {\r\n        font: ${({ theme }) => theme.fontAppearance.titleRegular};\r\n        margin-bottom: 0.5rem;\r\n      }\r\n      .description {\r\n        font: ${({ theme }) => theme.fontAppearance.defaultMedium};\r\n        margin-bottom: 0.5rem;\r\n        p {\r\n          line-height: 1rem;\r\n        }\r\n      }\r\n      .rating-details {\r\n        display: flex;\r\n        align-items: center;\r\n        column-gap: 10px;\r\n        margin-bottom: 0.5rem;\r\n        .rating,\r\n        .kilometers {\r\n          background-color: ${({ theme }) => theme.colors.primary};\r\n          color: ${({ theme }) => theme.colors.secondary};\r\n          font: ${({ theme }) => theme.fontAppearance.defaultMedium};\r\n          padding: 4px;\r\n          border-radius: 3px;\r\n          svg {\r\n            font-size: 0.5rem;\r\n          }\r\n        }\r\n      }\r\n      .details {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        .price-details {\r\n          display: flex;\r\n          align-items: center;\r\n          column-gap: 10px;\r\n          .sale-price {\r\n            font: ${({ theme }) => theme.fontAppearance.contentMedium};\r\n          }\r\n          .actual-price {\r\n            font: ${({ theme }) => theme.fontAppearance.defaultMedium};\r\n            color: ${({ theme }) => theme.colors.tertiary};\r\n            text-decoration: line-through;\r\n          }\r\n        }\r\n      }\r\n      .address {\r\n        display: flex;\r\n        align-items: flex-end;\r\n        svg {\r\n          font-size: 1rem;\r\n        }\r\n        p {\r\n          font: ${({ theme }) => theme.fontAppearance.defaultMedium};\r\n          color: ${({ theme }) => theme.colors.tertiary};\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst MerchantCard = (props) => {\r\n  const { items } = props;\r\n  const { merchantId } = items;\r\n\r\n  const computeDistance = (prevLat, prevLong, lat, long) => {\r\n    const prevLatInRad = toRad(prevLat);\r\n    const prevLongInRad = toRad(prevLong);\r\n    const latInRad = toRad(lat);\r\n    const longInRad = toRad(long);\r\n\r\n    return (\r\n      // In kilometers\r\n      6377.830272 *\r\n      Math.acos(\r\n        Math.sin(prevLatInRad) * Math.sin(latInRad) +\r\n          Math.cos(prevLatInRad) *\r\n            Math.cos(latInRad) *\r\n            Math.cos(longInRad - prevLongInRad)\r\n      )\r\n    );\r\n  };\r\n\r\n  const toRad = (angle) => {\r\n    return (angle * Math.PI) / 180;\r\n  };\r\n\r\n  const myLocation = JSON.parse(localStorage.getItem(\"myLocation\"));\r\n\r\n  // console.log(\r\n  //   computeDistance(\r\n  //     items.merchantId?.latitude,\r\n  //     items.merchantId?.longitude,\r\n  //     myLocation?.latitude,\r\n  //     myLocation?.longitude\r\n  //   )\r\n  // );\r\n\r\n  return (\r\n    <MerchantCardStyles>\r\n      <Link\r\n        to={items.product?._id && `/product/${items.product?._id}`}\r\n        state={{ items: items }}\r\n      >\r\n        <div className=\"merchant-card\">\r\n          <div className=\"merchant-images\">\r\n            <img\r\n              src={`${baseUrl}/merchantServerImage/${merchantId.workshopImage}`}\r\n              alt={`${merchantId.businessName}`}\r\n              onError={(event) => {\r\n                event.target.src = `${defaultImage}`;\r\n                event.onerror = null;\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"merchant-details\">\r\n            <h5 className=\"merchant-name\">{merchantId.businessName}</h5>\r\n            <div className=\"rating-details\">\r\n              <div className=\"rating\">\r\n                4.5{\" \"}\r\n                <span>\r\n                  <BsStarFill />\r\n                </span>\r\n              </div>\r\n              <div className=\"kilometers\">\r\n                <span>\r\n                  <FaRoad />\r\n                </span>{\" \"}\r\n                &nbsp;{\" \"}\r\n                {parseFloat(\r\n                  computeDistance(\r\n                    items.merchantId?.latitude,\r\n                    items.merchantId?.longitude,\r\n                    myLocation?.latitude,\r\n                    myLocation?.longitude\r\n                  )\r\n                ).toFixed(2)}{\" \"}\r\n                Km\r\n              </div>\r\n            </div>\r\n            {/* <div\r\n              className=\"description\"\r\n              dangerouslySetInnerHTML={{\r\n                __html: items.product?.productDesc\r\n              }}\r\n            ></div> */}\r\n            <div className=\"details\">\r\n              <div className=\"price-details\">\r\n                {items.merchantSalePrice !== 0 ? (\r\n                  <h4 className=\"sale-price\">\r\n                    INR {parseFloat(items.merchantSalePrice).toFixed(2)}\r\n                  </h4>\r\n                ) : null}\r\n                {items.imateDiscountPrice !== 0 &&\r\n                items.merchantSalePrice === 0 ? (\r\n                  <h4 className=\"sale-price\">\r\n                    INR {parseFloat(items.imateDiscountPrice).toFixed(2)}\r\n                  </h4>\r\n                ) : null}\r\n                <h4\r\n                  className={\r\n                    items.imateDiscountPrice === 0 &&\r\n                    items.merchantSalePrice === 0\r\n                      ? \"sale-price\"\r\n                      : \"actual-price\"\r\n                  }\r\n                >\r\n                  INR {parseFloat(items.currentSalePrice).toFixed(2)}\r\n                </h4>\r\n                <h6 className=\"actual-price\">\r\n                  INR {parseFloat(items.currentActualPrice).toFixed(2)}\r\n                </h6>\r\n              </div>\r\n            </div>\r\n            <div className=\"address\">\r\n              <span>\r\n                <MdLocationOn />\r\n              </span>\r\n              <p>\r\n                {items.merchantId.addressLine1} {items.merchantId.addressLine2}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </MerchantCardStyles>\r\n  );\r\n};\r\n\r\nexport default MerchantCard;\r\n","import MerchantDetails from \"./MerchantDetails\";\r\nexport default MerchantDetails;\r\n","import React, { useEffect } from \"react\";\r\nimport MerchantDetailStyleWrapper from \"./MerchantDetailStyles\";\r\nimport Breadcrumb from \"../../components/Breadcrumb\";\r\nimport MerchantCard from \"../../components/MerchantCard\";\r\nimport { useProductContext } from \"../../context/product_context\";\r\nimport { bike_products_url, lmv_products_url } from \"../../utils/constants\";\r\nimport { useBrandsContext } from \"../../context/brands_context\";\r\nimport { useLocation, useParams } from \"react-router-dom\";\r\nimport Lottie from \"react-lottie\";\r\nimport NoService from \"../../json/No_Service.json\";\r\n\r\nconst MerchantDetails = () => {\r\n  const { id } = useParams();\r\n  const location = useLocation();\r\n  const { state } = location;\r\n  const { single_product: product, fetchSingleProduct } = useProductContext();\r\n  const { customer_vehicle } = useBrandsContext();\r\n  const selectedVehicle = customer_vehicle?.find((item) => item.isSelected);\r\n\r\n  useEffect(() => {\r\n    if (state?.vehicleType === \"Bike\") {\r\n      fetchSingleProduct(`${bike_products_url}/${id}`);\r\n    }\r\n    if (state?.vehicleType === \"LMV\") {\r\n      fetchSingleProduct(`${lmv_products_url}/${id}`);\r\n    }\r\n  }, [id]);\r\n\r\n  const filteredMerchant = product?.productMerchant?.filter((item) => {\r\n    console.log(item?.merchantId.status, item?.merchantId.customerStatus);\r\n    return (\r\n      (item.isApplyAllCars &&\r\n        item?.merchantId.status &&\r\n        item?.merchantId.customerStatus === \"Active\") ||\r\n      (!item.isApplyAllCars &&\r\n        item.vehicle?._id === selectedVehicle?._id &&\r\n        item?.merchantId.status &&\r\n        item?.merchantId.customerStatus === \"Active\")\r\n    );\r\n  });\r\n\r\n  console.log(product?.productMerchant);\r\n\r\n  const defaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: NoService,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\"\r\n    }\r\n  };\r\n\r\n  if (product?.productMerchant?.length === 0) {\r\n    return (\r\n      <MerchantDetailStyleWrapper>\r\n        <div className=\"animation\">\r\n          <Lottie options={defaultOptions} />\r\n        </div>\r\n        <p className=\"no-merchant\">No merchant Found...</p>\r\n      </MerchantDetailStyleWrapper>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <MerchantDetailStyleWrapper>\r\n      <div className=\"breadcrumb\">\r\n        <Breadcrumb title=\"Merchants\" />\r\n      </div>\r\n      <div className=\"product\">\r\n        <h6 className=\"product-name\">\r\n          {\" \"}\r\n          Product Name: <span>{product?.productName}</span>\r\n        </h6>\r\n      </div>\r\n      <div className=\"merchant-container\">\r\n        {filteredMerchant?.map((merchant) => (\r\n          <MerchantCard items={merchant} key={merchant._id} />\r\n        ))}\r\n      </div>\r\n    </MerchantDetailStyleWrapper>\r\n  );\r\n};\r\n\r\nexport default MerchantDetails;\r\n"],"names":["styled","theme","fontAppearance","contentMedium","defaultMedium","colors","tertiary","primary","secondary","MerchantCardStyles","titleRegular","props","items","merchantId","toRad","angle","Math","PI","myLocation","JSON","parse","localStorage","getItem","to","product","_id","state","className","src","baseUrl","workshopImage","alt","businessName","onError","event","target","defaultImage","onerror","parseFloat","prevLat","prevLong","lat","long","prevLatInRad","prevLongInRad","latInRad","longInRad","acos","sin","cos","computeDistance","latitude","longitude","toFixed","merchantSalePrice","imateDiscountPrice","currentSalePrice","currentActualPrice","addressLine1","addressLine2","id","useParams","useLocation","useProductContext","single_product","fetchSingleProduct","customer_vehicle","useBrandsContext","selectedVehicle","find","item","isSelected","useEffect","vehicleType","bike_products_url","lmv_products_url","filteredMerchant","productMerchant","filter","console","log","status","customerStatus","isApplyAllCars","vehicle","defaultOptions","loop","autoplay","animationData","NoService","rendererSettings","preserveAspectRatio","length","options","Breadcrumb","title","productName","map","merchant"],"sourceRoot":""}