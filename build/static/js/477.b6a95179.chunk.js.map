{"version":3,"file":"static/js/477.b6a95179.chunk.js","mappings":"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","sources":["pages/Login/LoginStyles.js","pages/Login/Login.js","pages/Login/index.js"],"sourcesContent":["import styled from \"styled-components\";\r\n\r\nconst LoginStyleWrapper = styled.section`\r\n  padding: 1rem 3rem;\r\n  min-height: 75vh;\r\n  background-color: ${({ theme }) => theme.colors.backgroundGrey};\r\n  .login-container {\r\n    position: relative;\r\n    .login-form {\r\n      width: 400px;\r\n      margin: 0 auto;\r\n      padding: 1rem;\r\n      background-color: ${({ theme }) => theme.colors.secondary};\r\n      .image-section {\r\n        max-width: 300px;\r\n        margin: auto;\r\n        img {\r\n          max-width: 100%;\r\n          height: auto;\r\n        }\r\n      }\r\n      .instruct {\r\n        font: ${({ theme }) => theme.fontAppearance.contentMedium};\r\n        color: ${({ theme }) => theme.colors.tertiary};\r\n        margin: 1rem 0;\r\n        text-align: center;\r\n      }\r\n      a {\r\n        text-decoration: none;\r\n        color: ${({ theme }) => theme.colors.primary};\r\n      }\r\n    }\r\n  }\r\n  .field {\r\n    min-height: 4rem;\r\n  }\r\n\r\n  @media only screen and (max-width: 450px) {\r\n    padding: 1rem;\r\n    .login-container {\r\n      .login-form {\r\n        width: 100%;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default LoginStyleWrapper;\r\n","import React, { useState } from \"react\";\r\nimport LoginStyleWrapper from \"./LoginStyles\";\r\nimport { Inputstyle } from \"../../components/TextFieldInput\";\r\nimport Button from \"../../components/Button\";\r\nimport { MSG_TYPE, useToaster } from \"../../components/Toastbar\";\r\nimport { postData } from \"../../utils/fetchData\";\r\nimport LoginJson from \"../../json/Login.json\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport Lottie from \"react-lottie\";\r\nimport { Formik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { IconButton, InputAdornment, TextField } from \"@mui/material\";\r\nimport { MdPersonOutline } from \"react-icons/md\";\r\nimport { MdVisibility } from \"react-icons/md\";\r\nimport { MdVisibilityOff } from \"react-icons/md\";\r\nimport { useBrandsContext } from \"../../context/brands_context\";\r\nimport { useCartContext } from \"../../context/cart_context\";\r\n\r\nconst initialValues = {\r\n  phoneNumber: \"\",\r\n  password: \"\",\r\n  showPassword: false\r\n};\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  phoneNumber: Yup.string().required(\"Required\"),\r\n  password: Yup.string()\r\n    .required(\"Required\")\r\n    .min(8, \"Must be 8 characters or more\")\r\n    .matches(/[a-z]+/, \"One lowercase character\")\r\n    .matches(/[A-Z]+/, \"One uppercase character\")\r\n    .matches(/[@$!%*#?&]+/, \"One special character\")\r\n    .matches(/\\d+/, \"One number\")\r\n});\r\n\r\nconst Login = () => {\r\n  const navigate = useNavigate();\r\n  const toaster = useToaster();\r\n  const { fetchCustomerVehicle } = useBrandsContext();\r\n  const { totalCartItems } = useCartContext();\r\n  const [data, setData] = useState(initialValues);\r\n\r\n  const handleClickShowPassword = () => {\r\n    setData({ ...data, showPassword: !data.showPassword });\r\n  };\r\n\r\n  const handleMouseShowPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const defaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: LoginJson,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\"\r\n    }\r\n  };\r\n\r\n  const onsubmit = async (values, submitProps) => {\r\n    try {\r\n      data.phoneNumber = values.phoneNumber;\r\n      data.password = values.password;\r\n      const response = await postData(\"clogin\", data);\r\n      if (response.data) {\r\n        submitProps.resetForm();\r\n        localStorage.clear();\r\n        sessionStorage.clear();\r\n        localStorage.setItem(\"jwt_token\", response.data.token);\r\n        localStorage.setItem(\"user_detail\", JSON.stringify(response.data));\r\n        localStorage.setItem(\"is_loggedin\", true);\r\n        fetchCustomerVehicle(\"customer-car\", response.data.token);\r\n        totalCartItems();\r\n        navigate(\"/\");\r\n      } else {\r\n        toaster(MSG_TYPE.ERROR, response.message);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <LoginStyleWrapper>\r\n      <div className=\"login-container\">\r\n        <div className=\"login-form\">\r\n          <div className=\"image-section\">\r\n            <Lottie options={defaultOptions} />\r\n          </div>\r\n          <Formik\r\n            initialValues={initialValues}\r\n            validationSchema={validationSchema}\r\n            enableReinitialize\r\n            onSubmit={onsubmit}\r\n          >\r\n            {(props) => {\r\n              const {\r\n                values,\r\n                touched,\r\n                errors,\r\n                handleChange,\r\n                handleBlur,\r\n                handleSubmit\r\n              } = props;\r\n              return (\r\n                <form onSubmit={handleSubmit}>\r\n                  <div className=\"field\">\r\n                    <Inputstyle>\r\n                      <TextField\r\n                        autoComplete=\"off\"\r\n                        variant=\"outlined\"\r\n                        label=\"Phone Number *\"\r\n                        id=\"phoneNumber\"\r\n                        name=\"phoneNumber\"\r\n                        fullWidth\r\n                        value={values.phoneNumber}\r\n                        InputProps={{\r\n                          endAdornment: (\r\n                            <InputAdornment position=\"end\">\r\n                              <IconButton>\r\n                                <MdPersonOutline />\r\n                              </IconButton>\r\n                            </InputAdornment>\r\n                          )\r\n                        }}\r\n                        onBlur={handleBlur}\r\n                        onChange={handleChange}\r\n                        helperText={\r\n                          errors.phoneNumber &&\r\n                          touched.phoneNumber &&\r\n                          errors.phoneNumber\r\n                        }\r\n                        error={errors.phoneNumber && touched.phoneNumber}\r\n                      />\r\n                    </Inputstyle>\r\n                  </div>\r\n                  <div className=\"field\">\r\n                    <Inputstyle>\r\n                      <TextField\r\n                        type={data.showPassword ? \"text\" : \"password\"}\r\n                        variant=\"outlined\"\r\n                        label=\"Password *\"\r\n                        id=\"password\"\r\n                        name=\"password\"\r\n                        fullWidth\r\n                        value={values.password}\r\n                        InputProps={{\r\n                          endAdornment: (\r\n                            <InputAdornment position=\"end\">\r\n                              <IconButton\r\n                                aria-label=\"toggle password visibility\"\r\n                                onClick={handleClickShowPassword}\r\n                                onMouseDown={handleMouseShowPassword}\r\n                              >\r\n                                {data.showPassword ? (\r\n                                  <MdVisibility />\r\n                                ) : (\r\n                                  <MdVisibilityOff />\r\n                                )}\r\n                              </IconButton>\r\n                            </InputAdornment>\r\n                          )\r\n                        }}\r\n                        onBlur={handleBlur}\r\n                        onChange={handleChange}\r\n                        helperText={\r\n                          errors.password && touched.password && errors.password\r\n                        }\r\n                        error={errors.password && touched.password}\r\n                      />\r\n                    </Inputstyle>\r\n                  </div>\r\n                  <Button type=\"submit\">Login</Button>\r\n                  <p className=\"instruct\">\r\n                    Don't have an account? Please &nbsp;\r\n                    <Link to=\"/signup\">Signup</Link>\r\n                  </p>\r\n                </form>\r\n              );\r\n            }}\r\n          </Formik>\r\n        </div>\r\n      </div>\r\n    </LoginStyleWrapper>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import Login from \"./Login\";\r\nexport default Login;\r\n"],"names":["styled","theme","colors","backgroundGrey","secondary","fontAppearance","contentMedium","tertiary","primary","initialValues","phoneNumber","password","showPassword","validationSchema","Yup","shape","required","min","matches","navigate","useNavigate","toaster","useToaster","fetchCustomerVehicle","useBrandsContext","totalCartItems","useCartContext","useState","data","setData","handleClickShowPassword","handleMouseShowPassword","event","preventDefault","defaultOptions","loop","autoplay","animationData","LoginJson","rendererSettings","preserveAspectRatio","onsubmit","values","submitProps","postData","response","resetForm","localStorage","clear","sessionStorage","setItem","token","JSON","stringify","MSG_TYPE","message","console","log","className","options","enableReinitialize","onSubmit","props","touched","errors","handleChange","handleBlur","handleSubmit","TextField","autoComplete","variant","label","id","name","fullWidth","value","InputProps","endAdornment","InputAdornment","position","IconButton","onBlur","onChange","helperText","error","type","onClick","onMouseDown","Button","to"],"sourceRoot":""}